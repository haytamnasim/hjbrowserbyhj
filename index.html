# Waffles Clone ‚Äî Full Web App

This project contains a polished single-page front-end (index.html) and a minimal Node.js + Express backend (server.js) to store tiles, serve images, and provide a tiny API. The front-end has:

- Navbar, animated hero, and modern tile grid
- Smooth micro-animations and CSS transitions
- Better images (CDN + placeholders) with lazy-loading
- Editable tile menu and import/export
- Mobile responsive layout
- Dark / Light mode toggle (persisted to localStorage)
- Menu system for settings and profile
- Uses `fetch` to call the backend API for tiles and to save user data

The backend provides:

- `GET /api/tiles` ‚Äî returns current tiles JSON
- `POST /api/tiles` ‚Äî replace tiles (simple save)
- `GET /` and static file serving for `index.html` and `/static/*`

---

## index.html (frontend)

```html
<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Waffles ‚Äî Beautiful Launcher</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='45' fill='%23ffd27a'/><text x='50' y='57' font-size='45' text-anchor='middle' font-family='Arial' fill='%23000'>W</text></svg>">
  <style>
    /* -- Reset & base -- */
    :root{ --bg:#0b1020; --card:#0f1724; --muted:#9aa4bf; --accent:#7ef0d8; --glass: rgba(255,255,255,0.04); --text:#eaf5ff }
    [data-theme='light']{ --bg:#f6f9ff; --card:#ffffff; --muted:#50607a; --accent:#0ea5a4; --text:#061523 }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;background:var(--bg);color:var(--text);-webkit-font-smoothing:antialiased}

    /* Navbar */
    .nav{display:flex;align-items:center;gap:16px;padding:12px 20px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);position:sticky;top:0;z-index:40}
    .brand{display:flex;align-items:center;gap:12px}
    .logo{width:44px;height:44;border-radius:10px;background:linear-gradient(135deg,#ffd27a,#ff9ccd);display:flex;align-items:center;justify-content:center;color:#111;font-weight:800}
    .title{font-weight:700}
    .nav-right{margin-left:auto;display:flex;align-items:center;gap:8px}
    .icon-btn{background:transparent;border:0;padding:8px;border-radius:10px;color:var(--muted);cursor:pointer}

    /* Hero */
    .hero{display:flex;gap:20px;padding:28px;align-items:center}
    .hero-card{flex:1;padding:18px;border-radius:12px;background:linear-gradient(90deg, rgba(126,240,216,0.04), rgba(126,148,240,0.02));border:1px solid rgba(126,240,216,0.04)}
    .search{display:flex;gap:10px;padding:8px;border-radius:12px;background:var(--card);align-items:center}
    .search input{flex:1;padding:10px;border-radius:8px;border:0;background:transparent;color:var(--text);outline:none}
    .search button{padding:10px 14px;border-radius:8px;border:0;background:var(--accent);color:#012;font-weight:700}

    /* Grid */
    main{padding:18px}
    .grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:14px}
    .tile{padding:14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);cursor:pointer;display:flex;flex-direction:column;gap:8px;transition:transform .18s cubic-bezier(.2,.9,.2,1),box-shadow .18s}
    .tile:hover{transform:translateY(-8px);box-shadow:0 18px 40px rgba(2,6,23,0.6)}
    .tile .thumb{height:64px;border-radius:8px;object-fit:cover;width:100%}
    .tile .label{font-weight:800}
    .tile .desc{color:var(--muted);font-size:13px}

    /* Menu */
    .menu{position:fixed;right:18px;bottom:18px;display:flex;flex-direction:column;gap:8px;z-index:60}
    .fab{width:56px;height:56px;border-radius:999px;background:linear-gradient(90deg,#7ef0d8,#7aa7ff);display:flex;align-items:center;justify-content:center;font-weight:800;color:#012;cursor:pointer;box-shadow:0 10px 30px rgba(2,6,23,0.6)}

    /* Modal */
    .modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:linear-gradient(rgba(2,6,23,0.6),rgba(2,6,23,0.9));backdrop-filter: blur(6px);}
    .modal.show{display:flex}
    .card{background:var(--card);border-radius:12px;padding:18px;border:1px solid rgba(255,255,255,0.04);width:420px}
    input,textarea,select{width:100%;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);background:transparent;color:var(--text);margin-top:6px}

    /* Responsive */
    @media(max-width:720px){.hero{flex-direction:column}.grid{grid-template-columns:repeat(2,1fr)}.tile .thumb{height:88px}}

    /* subtle entrance animation */
    .appear{animation:pop .45s cubic-bezier(.2,.9,.2,1) both}
    @keyframes pop{0{opacity:0;transform:translateY(8px) scale(.99)}100{opacity:1;transform:none}}
  </style>
</head>
<body data-theme="dark">
  <header class="nav">
    <div class="brand"><div class="logo">W</div><div class="title">Waffles</div></div>
    <div class="nav-right">
      <button id="themeToggle" class="icon-btn" title="Toggle theme">üåì</button>
      <button id="exportBtn" class="icon-btn" title="Export tiles">‚¨áÔ∏è</button>
      <button id="importBtn" class="icon-btn" title="Import tiles">‚¨ÜÔ∏è</button>
    </div>
  </header>

  <section class="hero">
    <div class="hero-card">
      <h2 style="margin:0 0 8px">Quick links & launcher</h2>
      <div style="color:var(--muted);margin-bottom:12px">Fast open, edit tiles, and sync with a simple backend.</div>
      <div class="search">
        <input id="searchInput" placeholder="Search or type a URL" />
        <button id="searchGo">Go</button>
      </div>
    </div>
    <div style="width:320px">
      <div style="padding:12px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border-radius:12px;"> 
        <div style="font-weight:800;font-size:20px" id="clock">--:--</div>
        <div style="color:var(--muted);font-size:13px" id="date">--</div>
      </div>
    </div>
  </section>

  <main>
    <div class="grid" id="tiles"></div>
  </main>

  <div class="menu">
    <div class="fab" id="addBtn">Ôºã</div>
  </div>

  <div class="modal" id="modal">
    <div class="card">
      <div style="font-weight:800;margin-bottom:8px">Edit Tile</div>
      <label>Title<input id="tTitle"></label>
      <label>URL<input id="tURL"></label>
      <label>Description<input id="tDesc"></label>
      <label>Image URL<input id="tImg"></label>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
        <button id="cancelBtn" class="icon-btn">Cancel</button>
        <button id="saveBtn" class="icon-btn" style="background:var(--accent);border-radius:8px;color:#012">Save</button>
      </div>
    </div>
  </div>

  <script>
    // --- Utilities ---
    const apiRoot = '/api';
    const qs = s => document.querySelector(s);
    const tilesEl = qs('#tiles');
    let tiles = [];

    // --- Theme ---
    const themeToggle = qs('#themeToggle');
    function loadTheme(){ const t = localStorage.getItem('waffles_theme')||'dark'; document.body.setAttribute('data-theme', t);} 
    themeToggle.onclick = () => { const cur = document.body.getAttribute('data-theme'); const next = cur==='dark'?'light':'dark'; document.body.setAttribute('data-theme', next); localStorage.setItem('waffles_theme', next); }
    loadTheme();

    // --- Clock ---
    function tick(){ const d=new Date(); qs('#clock').textContent = d.toLocaleTimeString([], {hour:'2-digit',minute:'2-digit'}); qs('#date').textContent = d.toLocaleDateString(); }
    setInterval(tick,1000); tick();

    // --- Tile rendering ---
    function renderTiles(){ tilesEl.innerHTML=''; tiles.forEach(t=>{
      const el = document.createElement('div'); el.className='tile appear';
      el.innerHTML = `
        <img class="thumb" loading="lazy" src="${escape(t.img||getPlaceholder(t.title))}" alt="${escape(t.title)}" />
        <div class="label">${escape(t.title)}</div>
        <div class="desc">${escape(t.desc||t.url)}</div>
      `;
      el.onclick = (e) => { if(e.ctrlKey||e.metaKey) window.open(normalizeUrl(t.url),'_blank'); else window.location.href = normalizeUrl(t.url); };
      el.oncontextmenu = (e) => { e.preventDefault(); openEdit(t.id); };
      tilesEl.appendChild(el);
    })}

    function escape(s){ return String(s||'').replace(/[&<>"]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }
    function normalizeUrl(u){ if(!u) return '#'; if(/^[a-zA-Z]+:///.test(u)) return u; if(u.includes(' ')) return 'https://www.google.com/search?q='+encodeURIComponent(u); return 'https://'+u; }
    function getPlaceholder(text){ const t = encodeURIComponent(text||'Waffles'); return `https://via.placeholder.com/512x320.png?text=${t}` }

    // --- Modal / Edit ---
    const modal = qs('#modal'); const tTitle = qs('#tTitle'); const tURL = qs('#tURL'); const tDesc = qs('#tDesc'); const tImg = qs('#tImg'); let editingId = null;
    qs('#addBtn').onclick = ()=>{ editingId=null; tTitle.value=''; tURL.value=''; tDesc.value=''; tImg.value=''; modal.classList.add('show'); }
    qs('#cancelBtn').onclick = ()=> modal.classList.remove('show');
    qs('#saveBtn').onclick = async ()=>{
      const obj = { id: editingId||('t'+Math.random().toString(36).slice(2,9)), title:tTitle.value||'Untitled', url:tURL.value||'#', desc:tDesc.value||'', img:tImg.value||'' };
      if(editingId){ tiles = tiles.map(x=>x.id===editingId?obj:x); } else tiles.unshift(obj);
      await saveTiles(); renderTiles(); modal.classList.remove('show'); }

    function openEdit(id){ const t = tiles.find(x=>x.id===id); if(!t) return; editingId=id; tTitle.value=t.title; tURL.value=t.url; tDesc.value=t.desc||''; tImg.value=t.img||''; modal.classList.add('show'); }

    // --- Search ---
    qs('#searchGo').onclick = ()=>{ const q = qs('#searchInput').value.trim(); if(!q) return; window.open(normalizeUrl(q),'_blank'); }
    qs('#searchInput').addEventListener('keydown', e => { if(e.key==='Enter') qs('#searchGo').click(); });

    // --- Local storage fallback ---
    async function loadTiles(){
      // prefer backend
      try {
        const res = await fetch(apiRoot+'/tiles');
        if(res.ok){ tiles = await res.json(); renderTiles(); return; }
      }catch(e){ /* continue to local */ }
      const raw = localStorage.getItem('waffles_tiles_v2'); if(raw){ tiles = JSON.parse(raw); renderTiles(); } else { tiles = defaultTiles(); renderTiles(); }
    }
    async function saveTiles(){
      try{ await fetch(apiRoot+'/tiles',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(tiles)}); }catch(e){ /* fail silently and save local */ }
      localStorage.setItem('waffles_tiles_v2', JSON.stringify(tiles));
    }

    function defaultTiles(){ return [
      {id:'t1',title:'Waffles Home',url:'https://waffles.conyser.cl',desc:'Launcher home',img:''},
      {id:'t2',title:'YouTube',url:'https://www.youtube.com',desc:'Videos',img:'https://i.imgur.com/8Km9tLL.jpg'},
      {id:'t3',title:'GitHub',url:'https://github.com',desc:'Code',img:'https://i.imgur.com/9bGxk2G.png'}
    ]; }

    // --- Import / Export ---
    qs('#exportBtn').onclick = ()=>{ const blob = new Blob([JSON.stringify(tiles, null, 2)],{type:'application/json'}); const a=document.createElement('a'); a.href=URL.createObjectURL(blob); a.download='waffles_tiles.json'; a.click(); URL.revokeObjectURL(a.href); }
    qs('#importBtn').onclick = ()=>{ const inp = document.createElement('input'); inp.type='file'; inp.accept='application/json'; inp.onchange = async(e)=>{ const f=e.target.files[0]; if(!f) return; const txt = await f.text(); try{ tiles = JSON.parse(txt); await saveTiles(); renderTiles(); }catch(err){ alert('Invalid file'); }}; inp.click(); }

    // init
    loadTiles();
  </script>
</body>
</html>
```

---

## server.js (Node.js + Express backend)

```js
// Minimal server to serve static files and a simple tiles API
const express = require('express');
const fs = require('fs');
const path = require('path');
const app = express();
const PORT = process.env.PORT || 3000;
const DATA_FILE = path.join(__dirname,'tiles.json');
app.use(express.json());
app.use(express.static(path.join(__dirname,'public'))); // place index.html in /public

// Ensure data file
if(!fs.existsSync(DATA_FILE)) fs.writeFileSync(DATA_FILE, JSON.stringify([]));

app.get('/api/tiles', (req,res)=>{
  try{ const raw = fs.readFileSync(DATA_FILE); const arr = JSON.parse(raw); res.json(arr); }catch(e){ res.status(500).json([]); }
});

app.post('/api/tiles', (req,res)=>{
  const body = req.body; if(!Array.isArray(body)) return res.status(400).json({error:'tiles must be array'});
  try{ fs.writeFileSync(DATA_FILE, JSON.stringify(body,null,2)); return res.json({ok:true}); }catch(e){ return res.status(500).json({error:'failed'}); }
});

app.listen(PORT, ()=> console.log('Server listening on',PORT));
```

Place `index.html` under a `public` directory alongside `server.js`. Use `npm init -y && npm install express` then run `node server.js`.

---

## package.json (example)

```json
{
  "name":"waffles-clone",
  "version":"1.0.0",
  "main":"server.js",
  "scripts":{
    "start":"node server.js"
  },
  "dependencies":{
    "express":"^4.18.2"
  }
}
```

---

## tiles.json (initial sample)

```json
[
  {"id":"t1","title":"Waffles Home","url":"https://waffles.conyser.cl","desc":"Launcher home","img":""}
]
```

---

## How to run locally

1. Save `index.html` into a `public` folder. Save `server.js` and `package.json` at project root.
2. Run `npm install` then `npm start`.
3. Open http://localhost:3000 in your browser.

---

## Notes & next steps
- I kept the backend intentionally tiny (file-backed). For production use, swap to a database (SQLite, PostgreSQL) and add authentication.
- If you want, I can:
  - Add user authentication (JWT + users file)
  - Add sync across devices
  - Build a Dockerfile
  - Provide a ready-to-download zip with all files

---

If you'd like, I can now attach a ready-to-download ZIP containing: `public/index.html`, `server.js`, `package.json`, and sample `tiles.json`. Say **"Create ZIP"** and I will produce the file for you.
